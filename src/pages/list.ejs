<!DOCTYPE html>
<html>
<head>
  <title>fetch data from mongodb using node js and display in html</title>
  <link rel='stylesheet' href='/stylesheets/style.css' />
  <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
</head>
<body>
  <!-- <div>
    <a href="/customers" class="btn btn-info ml-3">Fetch  data from mongodb using node js and display in html</a>
</div>  -->   
<!--   <% if (messages.error) { %>
  <p style="color:red"><%- messages.error %></p>
<% } %> -->
  
<% if (messages.success) { %>
    <p class="alert alert-success mt-4"><%- messages.success %></p>
<% } %>  
<br>
  <table class="table">
<thead>
  <tr>
    <th scope="col">#</th>
    <th scope="col">Name</th>
    <th scope="col">Email</th>
 
  </tr>
</thead>
<tbody>
  <% if(data.length){
 
  for(var i = 0; i< data.length; i++) {%>  
  <tr>
    <th scope="row"><%= (i+1) %></th>
    <td><%= data[i].name%></td>
    <td><%= data[i].email%></td>
  </tr>
  <% }
           
   }else{ %>
       <tr>
          <td colspan="3">No user</td>
       </tr>
    <% } %>    
  
    <!doctype html>
    <head>
      <style>
        /* CSS comes here */
        body {
            font-family: arial;
        }
        button {
            padding:10px;
            background-color:#6a67ce;
            color: #FFFFFF;
            border: 0px;
            cursor:pointer;
            border-radius: 5px;
        }
        #output {
            background-color:#F9F9F9;
            padding:10px;
            width: 99%;
            margin-top:20px;
            line-height:30px;
        }
        .hide {
            display:none;
        }
        .show {
            display:block;
        }
      </style>
      <title>Speech To Text</title>
    </head>
    <body>
  
      <center><br><br><br><br><br><br><br><br><br><br><br><br>
      <h2>T-S</h2>
          <p>Click on the below button and speak something...</p>
          
          <p><button type="button" onclick="runSpeechRecognition()">Speech to Text</button> &nbsp; <span id="action"></span></p>
          
          <div id="output" class="hide"></div>
      </center>
  
      <script>
        /* JS comes here */
          function runSpeechRecognition() {
              // get output div reference
              var output = document.getElementById("output");
              // get action element reference
              var action = document.getElementById("action");
                  // new speech recognition object
                  var SpeechRecognition = SpeechRecognition || webkitSpeechRecognition;
                  var recognition = new SpeechRecognition();
              
                  // This runs when the speech recognition service starts
                  recognition.onstart = function() {
                      action.innerHTML = "<small>listening, please speak...</small>";
                  };
                  
                  recognition.onspeechend = function() {
                      action.innerHTML = "<small>stopped listening, hope you are done...</small>";
                      recognition.stop();
                  }
                
                  // This runs when the speech recognition service returns result
                  recognition.onresult = function(event) 
                  {
                      var transcript = event.results[0][0].transcript;
                      var confidence = event.results[0][0].confidence;
                      output.innerHTML = "<b>Text:</b> " + transcript;
                      output.classList.remove("hide");
                      let msg = transcript;
                  
                    let speech = new SpeechSynthesisUtterance();
                    speech.lang = "en-US";
                  
                    speech.text = msg;
                    speech.volume = 1;
                    speech.rate = 1;
                    speech.pitch = 1;
                  
                    window.speechSynthesis.speak(speech);
                  };
                
                  // start recognition
                  recognition.start();
  
            }
      </script>
    </body>
  </html>

</tbody>
</table>
</body>
</html>